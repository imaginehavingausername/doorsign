<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Door Sign</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            margin: 0;
            background-color: #A1C4FD;
        }

        /* Dedicated Background Layer */
        #bg-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at center, #A1C4FD 0%, #C2E9FB 50%, #8EC5FC 100%);
            background-size: 300% 300%;
            animation: radialShift 25s ease-in-out infinite alternate;
            z-index: 1;
        }

        @keyframes radialShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 70%; }
            100% { background-position: 0% 50%; }
        }

        /* --- Main Screen Container --- */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: #ffffff;
            text-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            z-index: 20; /* Text on top */
            pointer-events: none;
        }

        /* --- Effects Styling --- */
        .effect-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            z-index: 5; /* Between BG and Text */
            pointer-events: none;
        }

        .balloon {
            position: absolute;
            bottom: -100px;
            font-size: 2rem;
            opacity: 0.9;
            animation: floatUp linear infinite;
        }

        .snowflake {
            position: absolute;
            top: -20px;
            background-color: white;
            border-radius: 50%; /* Makes the dot circular */
            opacity: 0.8;
            animation: fall linear infinite;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        }

        @keyframes floatUp {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.9; }
            100% { transform: translateY(-120vh) translateX(20px) rotate(10deg); opacity: 0.9; }
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) translateX(0px); }
            100% { transform: translateY(110vh) translateX(25px); }
        }

        #message-content {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>

    <!-- Background Layer -->
    <div id="bg-layer"></div>

    <!-- Container for visual effects (Snow/Balloons) -->
    <div id="effects-container" class="effect-container"></div>

    <!-- Screen for the main message -->
    <div id="message-screen" class="screen">
        <div id="message-content">
            <!-- Loading message content... -->
        </div>
    </div>

    <script>
        const messageContent = document.getElementById('message-content');
        const effectsContainer = document.getElementById('effects-container');
        
        async function loadMessage() {
            try {
                const response = await fetch('message.html?t=' + new Date().getTime());
                if (!response.ok) throw new Error('Network response was not ok');
                const html = await response.text();
                if (messageContent.innerHTML !== html) {
                    messageContent.innerHTML = html;
                }
            } catch (error) {
                console.error('Failed to fetch message:', error);
            }
        }

        function createBalloon() {
            const balloon = document.createElement('div');
            balloon.innerHTML = 'ðŸŽˆ';
            balloon.classList.add('balloon');
            balloon.style.left = Math.random() * 100 + 'vw';
            balloon.style.fontSize = (Math.random() * 40 + 30) + 'px';
            const duration = Math.random() * 5 + 6; 
            balloon.style.animationDuration = duration + 's';
            effectsContainer.appendChild(balloon);
            setTimeout(() => { balloon.remove(); }, duration * 1000);
        }

        function createSnowflake() {
            const snowflake = document.createElement('div');
            // Changed from â„ï¸ to a div with background color
            snowflake.classList.add('snowflake');
            
            const size = Math.random() * 6 + 4; // Size between 4px and 10px
            snowflake.style.width = size + 'px';
            snowflake.style.height = size + 'px';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.opacity = Math.random() * 0.6 + 0.4;
            
            const duration = Math.random() * 3 + 3; 
            snowflake.style.animationDuration = duration + 's';

            effectsContainer.appendChild(snowflake);
            setTimeout(() => { snowflake.remove(); }, duration * 1000);
        }

        loadMessage(); 
        setInterval(loadMessage, 5000); 
        setInterval(createBalloon, 800); 
        setInterval(createSnowflake, 150);

    </script>
</body>
</html>
