<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <!-- Switched to Nunito (Rounded, 800/900 weight) for a soft, snowy, bold look -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@800;900&display=swap" rel="stylesheet">
<style>
body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-family: 'Nunito', sans-serif; /* Updated Font */
overflow: hidden;
margin: 0;
            background-color: #A1C4FD;
            background-color: #74b9ff;
}

        /* Dedicated Background Layer */
        /* --- Dedicated Background Layer --- */
        /* Made colors slightly more distinct so movement is noticeable */
#bg-layer {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
            background: radial-gradient(circle at center, #A1C4FD 0%, #C2E9FB 50%, #8EC5FC 100%);
            background: radial-gradient(circle at center, #89C4F4 0%, #B0E0E6 50%, #5D9CEC 100%);
background-size: 300% 300%;
            animation: radialShift 25s ease-in-out infinite alternate;
            animation: radialShift 20s ease-in-out infinite alternate;
z-index: 1;
}

@@ -35,6 +37,60 @@
100% { background-position: 0% 50%; }
}

        /* --- Aurora Borealis Effect --- */
        .aurora-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 45vh; /* Top half-ish */
            overflow: hidden;
            z-index: 2;
            pointer-events: none;
            opacity: 0.8;
            mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
        }

        .aurora {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                90deg,
                rgba(86, 255, 180, 0) 0%,
                rgba(86, 255, 180, 0.2) 15%,
                rgba(150, 50, 255, 0.2) 30%,
                rgba(86, 255, 180, 0) 45%
            );
            background-size: 200% 100%;
            filter: blur(20px);
            animation: auroraMove 15s linear infinite alternate;
            transform: skewY(10deg);
            mix-blend-mode: screen;
        }

        .aurora:nth-child(2) {
            top: -40%;
            animation-duration: 22s;
            animation-direction: alternate-reverse;
            background: repeating-linear-gradient(
                90deg,
                rgba(0, 255, 130, 0) 0%,
                rgba(0, 255, 130, 0.15) 20%,
                rgba(200, 100, 255, 0.15) 40%,
                rgba(0, 255, 130, 0) 60%
            );
            filter: blur(30px);
        }

        @keyframes auroraMove {
            0% { transform: translateX(-10%) skewY(5deg); }
            100% { transform: translateX(10%) skewY(-5deg); }
        }

/* --- Main Screen Container --- */
.screen {
position: absolute;
@@ -64,30 +120,16 @@
pointer-events: none;
}

        .balloon {
            position: absolute;
            bottom: -100px;
            font-size: 2rem;
            opacity: 0.9;
            animation: floatUp linear infinite;
        }

.snowflake {
position: absolute;
top: -20px;
background-color: white;
            border-radius: 50%; /* Makes the dot circular */
            border-radius: 50%;
opacity: 0.8;
animation: fall linear infinite;
box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
}

        @keyframes floatUp {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.9; }
            100% { transform: translateY(-120vh) translateX(20px) rotate(10deg); opacity: 0.9; }
        }

@keyframes fall {
0% { transform: translateY(-10vh) translateX(0px); }
100% { transform: translateY(110vh) translateX(25px); }
@@ -100,14 +142,36 @@
justify-content: center;
align-items: center;
}

        /* --- Sleep Mode / Blackout --- */
        #blackout-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: black;
            z-index: 9999; /* On top of absolutely everything */
            display: none; /* Hidden by default */
            cursor: none;
        }
</style>
</head>
<body>

    <!-- Blackout Layer for Night Mode -->
    <div id="blackout-layer"></div>

<!-- Background Layer -->
<div id="bg-layer"></div>

    <!-- Container for visual effects (Snow/Balloons) -->
    <!-- Aurora Borealis Layer -->
    <div class="aurora-container">
        <div class="aurora"></div>
        <div class="aurora"></div>
    </div>

    <!-- Container for visual effects (Snow) -->
<div id="effects-container" class="effect-container"></div>

<!-- Screen for the main message -->
@@ -120,9 +184,11 @@
<script>
const messageContent = document.getElementById('message-content');
const effectsContainer = document.getElementById('effects-container');
        const blackoutLayer = document.getElementById('blackout-layer');

async function loadMessage() {
try {
                // Cache busting to ensure we get new messages immediately
const response = await fetch('message.html?t=' + new Date().getTime());
if (!response.ok) throw new Error('Network response was not ok');
const html = await response.text();
@@ -134,21 +200,10 @@
}
}

        function createBalloon() {
            const balloon = document.createElement('div');
            balloon.innerHTML = 'ðŸŽˆ';
            balloon.classList.add('balloon');
            balloon.style.left = Math.random() * 100 + 'vw';
            balloon.style.fontSize = (Math.random() * 40 + 30) + 'px';
            const duration = Math.random() * 5 + 6; 
            balloon.style.animationDuration = duration + 's';
            effectsContainer.appendChild(balloon);
            setTimeout(() => { balloon.remove(); }, duration * 1000);
        }
        // --- Removed Balloon Logic ---

function createSnowflake() {
const snowflake = document.createElement('div');
            // Changed from â„ï¸ to a div with background color
snowflake.classList.add('snowflake');

const size = Math.random() * 6 + 4; // Size between 4px and 10px
@@ -164,10 +219,43 @@
setTimeout(() => { snowflake.remove(); }, duration * 1000);
}

        loadMessage(); 
        // --- Night Mode / Timer Logic ---
        function checkTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            
            // 10:45 PM is 22:45
            // 6:00 AM is 6:00
            
            const currentTotalMinutes = hours * 60 + minutes;
            const startBlackoutMinutes = 22 * 60 + 45; // 1365
            const endBlackoutMinutes = 6 * 60;         // 360

            // Logic: Blackout if Current time is GREATER than Start OR LESS than End
            // e.g., 23:00 (1380 > 1365) -> Blackout
            // e.g., 01:00 (60 < 360) -> Blackout
            // e.g., 12:00 (720 !> 1365 && 720 !< 360) -> Visible

            if (currentTotalMinutes >= startBlackoutMinutes || currentTotalMinutes < endBlackoutMinutes) {
                if (blackoutLayer.style.display !== 'block') {
                    blackoutLayer.style.display = 'block';
                }
            } else {
                if (blackoutLayer.style.display !== 'none') {
                    blackoutLayer.style.display = 'none';
                }
            }
        }

        // Initial Calls
        loadMessage();
        checkTime();

        // Intervals
setInterval(loadMessage, 5000); 
        setInterval(createBalloon, 800); 
setInterval(createSnowflake, 150);
        setInterval(checkTime, 60000); // Check time every minute

</script>
</body>
